
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>Installing R packages on Bianca - UPPMAX for Deep Learning</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2afb09e1.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Lato";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#installing-r-packages-on-bianca" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="UPPMAX for Deep Learning" class="md-header__button md-logo" aria-label="UPPMAX for Deep Learning" data-md-component="logo">
      
  <img src="../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            UPPMAX for Deep Learning
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Installing R packages on Bianca
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../intro/" class="md-tabs__link">
          
  
  
  Course content

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="UPPMAX for Deep Learning" class="md-nav__button md-logo" aria-label="UPPMAX for Deep Learning" data-md-component="logo">
      
  <img src="../assets/logo.svg" alt="logo">

    </a>
    UPPMAX for Deep Learning
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Course content
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Course content
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Intro
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hardware_snowy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hardware
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../slurm-intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Slurm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../isolated_envs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Isolated Environments
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../jupyter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Jupyter Notebooks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../VSCode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VS Code
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DL_exercises/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DL Exercises
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../profiling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Profling
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-a-package-really" class="md-nav__link">
    <span class="md-ellipsis">
      What is a package, really?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-your-own-packages" class="md-nav__link">
    <span class="md-ellipsis">
      Installing your own packages
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#methods" class="md-nav__link">
    <span class="md-ellipsis">
      Methods
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setup-first-time" class="md-nav__link">
    <span class="md-ellipsis">
      setup (first time)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automatical-download-and-install-from-cran" class="md-nav__link">
    <span class="md-ellipsis">
      Automatical download and install from CRAN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automatic-download-and-install-from-github" class="md-nav__link">
    <span class="md-ellipsis">
      Automatic download and install from GitHub
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manual-download-and-install" class="md-nav__link">
    <span class="md-ellipsis">
      Manual download and install
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-install-tidycmprsk" class="md-nav__link">
    <span class="md-ellipsis">
      Example — Install Tidycmprsk
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example — Install Tidycmprsk">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-on-rackham" class="md-nav__link">
    <span class="md-ellipsis">
      Install on Rackham
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transfer-to-the-wharf" class="md-nav__link">
    <span class="md-ellipsis">
      Transfer to the Wharf
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sync-from-wharf-to-home-directory" class="md-nav__link">
    <span class="md-ellipsis">
      Sync from Wharf to Home directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#start-an-r-session-and-load-the-new-package" class="md-nav__link">
    <span class="md-ellipsis">
      Start an R session and load the new package
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="installing-r-packages-on-bianca">Installing R packages on Bianca<a class="headerlink" href="#installing-r-packages-on-bianca" title="Anchor link to this section for reference">&para;</a></h1>
<p><a href="https://uppmax.github.io/R-python-julia-HPC/R/packagesR.html">R on UPPMAX course</a></p>
<h2 id="what-is-a-package-really">What is a package, really?<a class="headerlink" href="#what-is-a-package-really" title="Anchor link to this section for reference">&para;</a></h2>
<ul>
<li>
<p>An R package is essentialy a contained folder and file structure containing R
code (and possibly C/C++ or other code) and other files relevant for the
package e.g. documentation(vignettes), licensing and configuration files. </p>
</li>
<li>
<p>Let us look at a very simple example </p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="w">   </span>$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>git@github.com:MatPiq/R_example.git
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">   </span>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>R_example
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">   </span>$<span class="w"> </span>tree
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">   </span>.
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">   </span>├──<span class="w"> </span>DESCRIPTION
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">   </span>├──<span class="w"> </span>NAMESPACE
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">   </span>├──<span class="w"> </span>R
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">   </span>│<span class="w">   </span>└──<span class="w"> </span>hello.R
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">   </span>├──<span class="w"> </span>man
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="w">   </span>│<span class="w">   </span>└──<span class="w"> </span>hello.Rd
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="w">   </span>└──<span class="w"> </span>r_example.Rproj
</code></pre></div>
<h2 id="installing-your-own-packages">Installing your own packages<a class="headerlink" href="#installing-your-own-packages" title="Anchor link to this section for reference">&para;</a></h2>
<p>Sometimes you will need R packages that are not already installed. The solution
to this is to install your own packages. 
- These packages will usually come from CRAN (https://cran.r-project.org/) - the Comprehensive R Archive Network, or
- sometimes from other places, like GitHub or R-Forge</p>
<p>Here we will look at installing R packages with automatic download and with
manual download. It is also possible to install from inside Rstudio. </p>
<h2 id="methods">Methods<a class="headerlink" href="#methods" title="Anchor link to this section for reference">&para;</a></h2>
<ul>
<li>setup (first time)</li>
<li>automatic download and install from CRAN</li>
<li>automatic download and install from GitHub</li>
<li>manual download and install</li>
</ul>
<h3 id="setup-first-time">setup (first time)<a class="headerlink" href="#setup-first-time" title="Anchor link to this section for reference">&para;</a></h3>
<p>https://uppmax.github.io/bianca_workshop/rpackages/#setup</p>
<ul>
<li>
<p>We need to create a place for the own-installed packages to be and to tell R where to find them. The initial setup only needs to be done once, but separate package directories need to be created for each R version used.</p>
</li>
<li>
<p>R reads the <code>$HOME/.Renviron</code> file to setup its environment. It should be created by R on first run, or you can create it with the command: touch $HOME/.Renviron</p>
</li>
</ul>
<p>NOTE: In this example we are going to assume you have chosen to place the R packages in a directory under your home directory. As mentioned, you will need separate ones for each R version.</p>
<p>If you have not yet installed any packages to R yourself, the environment file
should be empty and you can update it like this: </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="nv">R_LIBS_USER</span><span class="o">=</span><span class="se">\&quot;</span><span class="nv">$HOME</span>/R-packages-%V<span class="se">\&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>~/.Renviron
</code></pre></div>
<p>If it is <strong>not</strong> empty, you can edit <code>$HOME/.Renviron</code> with your favorite
editor so that <code>R_LIBS_USER</code> contain the path to your chosen directory for
own-installed R packages. It should look something like this when you are done:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="w">    </span><span class="nv">R_LIBS_USER</span><span class="o">=</span><span class="s2">&quot;/home/u/user/R-packages-%V&quot;</span>
</code></pre></div>
<p>| NOTE: Replace <code>/home/u/user</code> with the value of <code>$HOME</code>. Run <code>echo $HOME</code> to see its value.
| NOTE: The <code>%V</code> should be written as-is, it's substituted at runtime with the active R version.</p>
<p>For each version of R you are using, create a directory matching the pattern
used in <code>.Renviron</code> to store your packages in. This example is shown for R
version 4.0.4:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="w">    </span>mkdir<span class="w"> </span>-p<span class="w"> </span><span class="nv">$HOME</span>/R-packages-4.0.4
</code></pre></div>
<h3 id="automatical-download-and-install-from-cran">Automatical download and install from CRAN<a class="headerlink" href="#automatical-download-and-install-from-cran" title="Anchor link to this section for reference">&para;</a></h3>
<p>https://uppmax.github.io/bianca_workshop/rpackages/#automatical-download-and-install-from-cran</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You find a list of packages in CRAN (https://cran.r-project.org/) and a list of repos here: https://cran.r-project.org/mirrors.html </p>
<ul>
<li>Please choose a location close to you when picking a repo. </li>
</ul>
</div>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">From command line</label><label for="__tabbed_1_2">From inside R</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>R<span class="w"> </span>--quiet<span class="w"> </span>--no-save<span class="w"> </span>--no-restore<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;install.packages(&#39;&lt;r-package&gt;&#39;, repos=&#39;&lt;repo&gt;&#39;)&quot;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nf">install.packages</span><span class="p">(</span><span class="s">&#39;&lt;r-package&gt;&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">repos</span><span class="o">=</span><span class="s">&#39;&lt;repo&gt;&#39;</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<p>In either case, the dependencies of the package will be downloaded and installed as well. </p>
<h3 id="automatic-download-and-install-from-github">Automatic download and install from GitHub<a class="headerlink" href="#automatic-download-and-install-from-github" title="Anchor link to this section for reference">&para;</a></h3>
<p>https://uppmax.github.io/bianca_workshop/rpackages/#automatic-download-and-install-from-github</p>
<p>If you want to install a package that is not on CRAN, but which do have a GitHub page, then there is an automatic way of installing, but you need to
handle prerequsites yourself by installing those first. 
-  It can also be that the package is not in as finished a state as those on CRAN, so be careful. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To install packages from GitHub directly, from inside R, you first need to install the devtools package. Note that you only need to install this <strong>once</strong>. </p>
</div>
<p>This is how you install a package from GitHub, inside R:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="w">    </span><span class="nf">install.packages</span><span class="p">(</span><span class="s">&quot;devtools&quot;</span><span class="p">)</span><span class="w">   </span><span class="c1"># ONLY ONCE</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">    </span><span class="n">devtools</span><span class="o">::</span><span class="nf">install_github</span><span class="p">(</span><span class="s">&quot;DeveloperName/package&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="manual-download-and-install">Manual download and install<a class="headerlink" href="#manual-download-and-install" title="Anchor link to this section for reference">&para;</a></h3>
<p>https://uppmax.github.io/bianca_workshop/rpackages/#manual-download-and-install</p>
<p>If the package is not on CRAN or you want the development version, or you for other reason want to install a package you downloaded, then this is how to install from the command line: </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="w">    </span>R<span class="w"> </span>CMD<span class="w"> </span>INSTALL<span class="w"> </span>-l<span class="w"> </span>&lt;path-to-R-package&gt;/R-package.tar.gz
</code></pre></div>
<p><strong>NOTE</strong> that if you install a package this way, you need to handle any dependencies yourself. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Places to look for R packages</p>
<ul>
<li>CRAN (https://cran.r-project.org/)</li>
<li>R-Forge (https://r-forge.r-project.org/)</li>
<li>Project's own GitHub page</li>
<li>etc.</li>
</ul>
</div>
<h2 id="example-install-tidycmprsk">Example — Install Tidycmprsk<a class="headerlink" href="#example-install-tidycmprsk" title="Anchor link to this section for reference">&para;</a></h2>
<p><a href="https://mskcc-epi-bio.github.io/tidycmprsk/">tidycmprsk on GitHub</a></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>The tidycmprsk package provides an intuitive interface for working with the competing risk endpoints. The package wraps the cmprsk package, and exports functions for univariate cumulative incidence estimates with cuminc() and competing risk regression with crr().</p>
</div>
<h3 id="install-on-rackham">Install on Rackham<a class="headerlink" href="#install-on-rackham" title="Anchor link to this section for reference">&para;</a></h3>
<p>You can install this for yourself by beginning on rackham. Do</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>module<span class="w"> </span>load<span class="w"> </span>R_packages/4.1.1
</code></pre></div>
and then, within R, do</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nf">install.packages</span><span class="p">(</span><span class="s">&#39;tidycmprsk&#39;</span><span class="p">)</span>
</code></pre></div>
<p>You will see two questions to answer yes to:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">Warning</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nf">install.packages</span><span class="p">(</span><span class="s">&quot;tidycmprsk&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">:</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">      </span><span class="s">&#39;lib = &quot;/sw/apps/R_packages/4.1.1/rackham&quot;&#39;</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">writable</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">    </span><span class="n">Would</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">personal</span><span class="w"> </span><span class="n">library</span><span class="w"> </span><span class="n">instead</span><span class="o">?</span><span class="w"> </span><span class="p">(</span><span class="n">yes</span><span class="o">/</span><span class="n">No</span><span class="o">/</span><span class="n">cancel</span><span class="p">)</span><span class="w"> </span><span class="n">yes</span>
</code></pre></div>
<p>and</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="n">Would</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">create</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">personal</span><span class="w"> </span><span class="n">library</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="w">    </span><span class="s">&#39;~/R/x86_64-pc-linux-gnu-library/4.1&#39;</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">    </span><span class="n">to</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">packages</span><span class="w"> </span><span class="n">into</span><span class="o">?</span><span class="w"> </span><span class="p">(</span><span class="n">yes</span><span class="o">/</span><span class="n">No</span><span class="o">/</span><span class="n">cancel</span><span class="p">)</span><span class="w"> </span><span class="n">yes</span>
</code></pre></div>
<p>This will then to an extended installation process that also does some updates.  This creates a directory ~/R that contains the installations and updates of R packages.</p>
<h3 id="transfer-to-the-wharf">Transfer to the Wharf<a class="headerlink" href="#transfer-to-the-wharf" title="Anchor link to this section for reference">&para;</a></h3>
<p>After installation, the next step is to copy the contents of this directory over to bianca so that it is the same directory within your bianca home directory.</p>
<p>Make sure you are in your <strong>home directory</strong>. Then connect to the bianca wharf.  Replace the name and project with your bianca user name and project.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>sftp<span class="w"> </span>douglas-sens2017625@bianca-sftp
</code></pre></div>
<p>You log in here like you log into bianca: the first password is your <strong>password followed by the 6-digit authenticator code</strong>, the second password (if required for you) is only your password.</p>
<p>Once sftp has connected, the contents of the current directory can be listed with</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>dir
</code></pre></div>
<p>It should look like this:</p>
<div class="highlight"><pre><span></span><code>sftp&gt; dir
douglas-sens2017625
</code></pre></div>
<p>Now <code>cd</code> to this directory, which is your wharf directory within your project.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>sftp&gt;<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>douglas-sens2017625/
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>sftp&gt;<span class="w"> </span>dir
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>sftp&gt;
</code></pre></div>
<p>If you have not uploaded anything to your wharf, this will be empty. It might have a few things in it.</p>
<p>Now, upload your (whole) <code>R</code> directory here.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>sftp&gt;<span class="w"> </span>put<span class="w"> </span>-r<span class="w"> </span>R
</code></pre></div>
<p>This will take a while to upload all the files. When it has completed, quit.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>sftp&gt;<span class="w"> </span>quit
</code></pre></div>
<ul>
<li>Now, <strong>log into bianca</strong> using the shell, or using the web interface and start a terminal. </li>
<li>Once you have a bianca shell, <strong>change to your wharf directory</strong> within your project.  Replace my user and project with yours.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="nb">cd</span><span class="w"> </span>/proj/sens2017625/nobackup/wharf/douglas/douglas-sens2017625
</code></pre></div>
<p>Within this directory should be your R directory.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="o">[</span>douglas@sens2017625-bianca<span class="w"> </span>douglas-sens2017625<span class="o">]</span>$<span class="w"> </span>ls<span class="w"> </span>-l
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>total<span class="w"> </span><span class="m">1892</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>drwxrwxr-x<span class="w">  </span><span class="m">3</span><span class="w"> </span>douglas<span class="w"> </span>douglas<span class="w">    </span><span class="m">4096</span><span class="w"> </span>Mar<span class="w">  </span><span class="m">2</span><span class="w"> </span><span class="m">14</span>:27<span class="w"> </span>R
</code></pre></div>
<h3 id="sync-from-wharf-to-home-directory">Sync from Wharf to Home directory<a class="headerlink" href="#sync-from-wharf-to-home-directory" title="Anchor link to this section for reference">&para;</a></h3>
<ul>
<li>Now sync this to your home directory:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="o">[</span>douglas@sens2017625-bianca<span class="w"> </span>douglas-sens2017625<span class="o">]</span>$<span class="w"> </span>rsync<span class="w"> </span>-Pa<span class="w"> </span>R<span class="w"> </span>~/
</code></pre></div>
<h3 id="start-an-r-session-and-load-the-new-package">Start an R session and load the new package<a class="headerlink" href="#start-an-r-session-and-load-the-new-package" title="Anchor link to this section for reference">&para;</a></h3>
<p>To use R_packages/4.1.1 with these new installations/updates, change to the directory you want to work in, load the R_packages/4.1.1 module.  Substitute your directory for my example directory.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="o">[</span>douglas@sens2017625-bianca<span class="w"> </span>douglas-sens2017625<span class="o">]</span>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/proj/sens2017625/nobackup/douglas/
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="w">    </span><span class="o">[</span>douglas@sens2017625-bianca<span class="w"> </span>douglas<span class="o">]</span>$<span class="w"> </span>module<span class="w"> </span>load<span class="w"> </span>R_packages/4.1.1
</code></pre></div>
<p>Then start R, and load the new package.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="o">[</span>douglas@sens2017625-bianca<span class="w"> </span>douglas<span class="o">]</span>$<span class="w"> </span>R
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="w">    </span><span class="n">R</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="m">4.1</span><span class="n">.</span><span class="m">1</span><span class="w"> </span><span class="p">(</span><span class="m">2021-08-10</span><span class="p">)</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="s">&quot;Kick Things&quot;</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="w">    </span><span class="nf">Copyright </span><span class="p">(</span><span class="n">C</span><span class="p">)</span><span class="w"> </span><span class="m">2021</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">R</span><span class="w"> </span><span class="n">Foundation</span><span class="w"> </span><span class="kr">for</span><span class="w"> </span><span class="n">Statistical</span><span class="w"> </span><span class="n">Computing</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">    </span><span class="n">....</span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="w">    </span><span class="n">Type</span><span class="w"> </span><span class="s">&#39;demo()&#39;</span><span class="w"> </span><span class="kr">for</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">demos</span><span class="p">,</span><span class="w"> </span><span class="s">&#39;help()&#39;</span><span class="w"> </span><span class="kr">for</span><span class="w"> </span><span class="n">on</span><span class="o">-</span><span class="n">line</span><span class="w"> </span><span class="n">help</span><span class="p">,</span><span class="w"> </span><span class="n">or</span>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="w">    </span><span class="s">&#39;help.start()&#39;</span><span class="w"> </span><span class="kr">for</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">HTML</span><span class="w"> </span><span class="n">browser</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">help.</span>
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="w">    </span><span class="n">Type</span><span class="w"> </span><span class="s">&#39;q()&#39;</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">quit</span><span class="w"> </span><span class="n">R.</span>
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a>
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="nf">library</span><span class="p">(</span><span class="n">tidycmprsk</span><span class="p">)</span>
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="w">    </span><span class="o">&gt;</span>
</code></pre></div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.path", "navigation.footer", "search.suggest", "content.code.annotate", "content.tabs.link"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>