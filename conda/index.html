
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>Conda on Bianca - UPPMAX for Deep Learning</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2afb09e1.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Lato";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#conda-on-bianca" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="UPPMAX for Deep Learning" class="md-header__button md-logo" aria-label="UPPMAX for Deep Learning" data-md-component="logo">
      
  <img src="../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            UPPMAX for Deep Learning
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Conda on Bianca
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../intro/" class="md-tabs__link">
          
  
  
  Course content

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="UPPMAX for Deep Learning" class="md-nav__button md-logo" aria-label="UPPMAX for Deep Learning" data-md-component="logo">
      
  <img src="../assets/logo.svg" alt="logo">

    </a>
    UPPMAX for Deep Learning
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Course content
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Course content
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Intro
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hardware_snowy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hardware
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../slurm-intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Slurm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../isolated_envs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Isolated Environments
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../jupyter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Jupyter Notebooks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../VSCode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VS Code
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DL_exercises/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DL Exercises
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../profiling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Profling
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="conda-on-bianca">Conda on Bianca<a class="headerlink" href="#conda-on-bianca" title="Anchor link to this section for reference">&para;</a></h1>
<div class="admonition info">
<p class="admonition-title">Objectives</p>
<ul>
<li>This is a brief description of the necessary steps to use the local Conda repository at UPPMAX, and install things for yourself or your project using Conda. </li>
</ul>
</div>
<div class="admonition info">
<p class="admonition-title">TLDR;</p>
<ul>
<li><code>module load conda</code></li>
<li><code>export CONDA_ENVS_PATH=/a/path/to/a/place/in/your/project/</code></li>
<li><code>conda create</code> ... etc</li>
<li>Remember to run <code>conda clean -a</code> once in a while. When you load the module, there is also a reminder displayed, so you get this info there also.</li>
</ul>
</div>
<h1 id="conda-basics">Conda basics<a class="headerlink" href="#conda-basics" title="Anchor link to this section for reference">&para;</a></h1>
<div class="questions">
<ul>
<li>What does Conda do?</li>
<li>How to create a Conda environment</li>
</ul>
</div>
<div class="objectives">
<ul>
<li>Learn pros and cons with Conda</li>
<li>Learn how to install packages and work with the Conda (isolated)
    environment</li>
</ul>
</div>
<div class="hint">
<div class="title">
<p>Hint</p>
</div>
<ul>
<li>On Bianca Conda is the first choice when installing packages, because there is a local mirror of most of the Conda repositories.</li>
</ul>
</div>
<h2 id="using-conda">Using Conda<a class="headerlink" href="#using-conda" title="Anchor link to this section for reference">&para;</a></h2>
<div class="admonition">
<p>Conda cheat sheet</p>
<ul>
<li>List packages in present environment: <code>conda list</code></li>
<li>List all environments: <code>conda info -e</code> or <code>conda env list</code></li>
<li>Install a package: <code>conda install somepackage</code></li>
<li>Install from certain channel (conda-forge):
    <code>conda install -c conda-forge somepackage</code></li>
<li>Install a specific version: <code>conda install somepackage=1.2.3</code></li>
<li>Create a new environment: <code>conda create --name myenvironment</code></li>
<li>Create a new environment from requirements.txt:
    <code>conda create --name myenvironment --file requirements.txt</code></li>
<li>On e.g. HPC systems where you don’t have write access to central
    installation directory: <code>conda create --prefix /some/path/to/env</code></li>
<li>Activate a specific environment: <code>conda activate myenvironment</code></li>
<li>Deactivate current environment: <code>conda deactivate</code></li>
</ul>
</div>
<h2 id="installing-using-conda">Installing using Conda<a class="headerlink" href="#installing-using-conda" title="Anchor link to this section for reference">&para;</a></h2>
<div class="note">
<div class="title">
<p>Note</p>
</div>
<p>We have mirrored all major conda repositories directly on UPPMAX, on
both Rackham and Bianca. These are updated every third day. We have the
following channels available:</p>
<ul>
<li>bioconda</li>
<li>biocore</li>
<li>conda-forge</li>
<li>dranew</li>
<li>free</li>
<li>main</li>
<li>pro</li>
<li>qiime2</li>
<li>r</li>
<li>r2018.11</li>
<li>scilifelab-lts</li>
<li>nvidia</li>
<li>pytorch</li>
</ul>
<p>You reach them all by loading the conda module. You don't have to state the specific channel when using UPPMAX. Also, you are offline on Bianca which means that the default is <code>--offline</code>, which you can specify if you want to simulate the experience on Rackham.</p>
<p>If you need a channel that isn't in our repository, we can easily add it. Just send us a message and we will do it.</p>
</div>
<h2 id="first-steps">First steps<a class="headerlink" href="#first-steps" title="Anchor link to this section for reference">&para;</a></h2>
<div class="tip">
<div class="title">
<p>Tip</p>
</div>
<p>There will be an exercise in the end!</p>
</div>
<ol>
<li>First load our conda module (there is no need to install you own
    miniconda, for instance)</li>
</ol>
<blockquote>
<div class="prompt" markdown="1">
<p>bash \$</p>
<p>module load conda</p>
</div>
<ul>
<li>This grants you access to the latest version of Conda and all
    major repositories on all UPPMAX systems.</li>
<li>Check the text output as conda is loaded, especially the first
    time, see below</li>
</ul>
<blockquote>
<div class="admonition dropdown" markdown="1">
<p>Conda load output</p>
<ul>
<li>The variable CONDA_ENVS_PATH contains the location of your
    environments. Set it to your project's environments folder if
    you have one.</li>
<li>Otherwise, the default is \~/.conda/envs.</li>
<li>You may run <code>source conda_init.sh</code> to initialise your shell to
    be able to run <code>conda activate</code> and <code>conda deactivate</code> etc.</li>
<li>Just remember that this command adds stuff to your shell outside
    the scope of the module system.</li>
<li>REMEMBER TO <code>conda clean -a</code> once in a while to remove unused
    and unnecessary files</li>
</ul>
</div>
</blockquote>
</blockquote>
<ol>
<li>First time</li>
</ol>
<blockquote>
<ul>
<li>
<p>The variable CONDA_ENVS_PATH contains the location of your
    environments. Set it to your project's environments folder if you
    have one.</p>
</li>
<li>
<p>Otherwise, the default is \~/.conda/envs.</p>
</li>
<li>
<p>Example:</p>
<blockquote>
<div class="prompt" markdown="1">
<p>bash \$</p>
<p>export
CONDA_ENVS_PATH=/proj/\&lt;your-project-id&gt;/nobackup/\&lt;username&gt;</p>
</div>
</blockquote>
</li>
</ul>
<blockquote>
<div class="admonition dropdown" markdown="1">
<p>By choice</p>
<p>Run <code>source conda_init.sh</code> to initialise your shell (bash) to be
able to run <code>conda activate</code> and <code>conda deactivate</code> etcetera instead
of <code>source activate</code>. It will modify (append) your <code>.bashrc</code> file.</p>
</div>
<ul>
<li>When conda is loaded you will by default be in the base
    environment, which works in the same way as other conda
    environments. include a Python installation and some core system
    libraries and dependencies of Conda. It is a “best practice” to
    avoid installing additional packages into your base software
    environment.</li>
</ul>
</blockquote>
</blockquote>
<ol>
<li>Create the conda environment</li>
</ol>
<blockquote>
<ul>
<li>
<p>Example:</p>
<div class="prompt" markdown="1">
<p>bash \$</p>
<p>conda create --name python36-env python=3.6 numpy=1.13.1
matplotlib=2.2.2</p>
</div>
<div class="admonition dropdown" markdown="1">
<p>The <code>mamba</code> alternative</p>
</div>
<ul>
<li>
<p><code>mamba</code> is a fast drop-in alternative to conda, using
    "libsolv" for dependency resolution. It is available from the
    <code>conda</code> module.</p>
</li>
<li>
<p>Example:</p>
<blockquote>
<div class="prompt" markdown="1">
<p>bash \$</p>
</div>
<p>mamba create --name python37-env python=3.7 numpy=1.13.1
matplotlib=2.2.2</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</blockquote>
<ol>
<li>
<p>Activate the conda environment by:</p>
<blockquote>
<div class="prompt" markdown="1">
<p>bash \$</p>
</div>
<p>source activate python36-env</p>
<ul>
<li>You will see that your prompt is changing to start with
    <code>(python-36-env)</code> to show that you are within an environment.</li>
</ul>
</blockquote>
</li>
<li>
<p>Now do your work!</p>
</li>
<li>
<p>Deactivate</p>
</li>
</ol>
<blockquote>
<div class="prompt" markdown="1" language="bash"
prompts="(python-36-env) $">
<p>conda deactivate</p>
</div>
</blockquote>
<div class="warning">
<div class="title">
<p>Warning</p>
</div>
<ul>
<li>Conda is known to create <strong>many</strong> <em>small</em> files. Your diskspace is
    not only limited in GB, but also in number of files (typically
    <code>300000</code> in \$home).</li>
<li>Check your disk usage and quota limit with <code>uquota</code></li>
<li>Do a <code>conda clean -a</code> once in a while to remove unused and
    unnecessary files</li>
</ul>
</div>
<ul>
<li><a href="https://uppmax.uu.se/support/user-guides/conda-user-guide/">More info about Conda on
    UPPMAX</a></li>
</ul>
<h2 id="working-with-conda-environments-defined-by-files">Working with Conda environments defined by files<a class="headerlink" href="#working-with-conda-environments-defined-by-files" title="Anchor link to this section for reference">&para;</a></h2>
<ul>
<li>
<p>Create an environment based on dependencies given in an environment
    file:</p>
<div class="highlight"><pre><span></span><code>$ conda env create --file environment.yml
</code></pre></div>
</li>
<li>
<p>Create file from present conda environment:</p>
<div class="highlight"><pre><span></span><code>$ conda env export &gt; environment.yml
</code></pre></div>
</li>
</ul>
<p><code>environments.yml</code> (for conda) is a yaml-file which looks like this:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-environment</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="nt">channels</span><span class="p">:</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">defaults</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="nt">dependencies</span><span class="p">:</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">numpy</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">matplotlib</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pandas</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scipy</span>
</code></pre></div>
<p><code>environments.yml</code> with versions:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-environment</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="nt">channels</span><span class="p">:</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">defaults</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="nt">dependencies</span><span class="p">:</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">python=3.7</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">numpy=1.18.1</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">matplotlib=3.1.3</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pandas=1.1.2</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scipy=1.6.2</span>
</code></pre></div>
<div class="admonition">
<p>More on dependencies</p>
<ul>
<li>Dependency management from course <a href="https://aaltoscicomp.github.io/python-for-scicomp/dependencies/">Python for Scientific
    computing</a></li>
</ul>
</div>
<h1 id="exercises">Exercises<a class="headerlink" href="#exercises" title="Anchor link to this section for reference">&para;</a></h1>
<div class="challenge">
<p>UPPMAX: Create a conda environment and install some packages</p>
<ul>
<li>First check the current installed packages while having
    <code>python/3.9.5</code> loaded</li>
<li>Open a new terminal and have the old one available for later
    comparison</li>
<li>Use the conda module on Rackham and create an environment with name
    <code>HPC-python23</code> with <code>python 3.7</code> and <code>numpy 1.15</code></li>
</ul>
<blockquote>
<ul>
<li>
<p>Use your a path for <code>CONDA_ENVS_PATH</code> of your own choice or <code>/proj/py-r-jl/&lt;user&gt;/python</code></p>
<p>:   -   (It may take a minute or so)</p>
</li>
</ul>
</blockquote>
<ul>
<li>Activate!</li>
<li>Check with <code>pip list</code> what is there. Compare with the environment
    given from the python module in the first terminal window.</li>
</ul>
<blockquote>
<ul>
<li>Which version of Python did you get?</li>
</ul>
</blockquote>
<ul>
<li>Don't forget to deactivate the Conda environment before doing other
    exercises!</li>
</ul>
</div>
<div class="solution dropdown">
<p>Solution for UPPMAX</p>
<p>Write this in the terminal</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>$<span class="w"> </span>module<span class="w"> </span>load<span class="w"> </span>conda
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>$<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">CONDA_ENVS_PATH</span><span class="o">=</span>/proj/py-r-jl/&lt;user&gt;/python
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>$<span class="w"> </span>conda<span class="w"> </span>create<span class="w"> </span>--name<span class="w"> </span>HPC-python23<span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.7<span class="w"> </span><span class="nv">numpy</span><span class="o">=</span><span class="m">1</span>.15
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>$<span class="w"> </span><span class="nb">source</span><span class="w"> </span>activate<span class="w"> </span>HPC-python23
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>$<span class="w"> </span>pip<span class="w"> </span>list
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>$<span class="w"> </span>python<span class="w"> </span>-V
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>$<span class="w"> </span><span class="nb">source</span><span class="w"> </span>deactivate
</code></pre></div>
</div>
<div class="keypoints">
<ul>
<li>
<p>Conda is an installer of packages but also bigger toolkits</p>
</li>
<li>
<p>Conda creates isolated environments (see next section) not clashing
    with other installations of python and other versions of packages</p>
</li>
<li>
<p>Conda environment requires that you install all packages needed by
    yourself.</p>
<blockquote>
<ul>
<li>That is, you cannot load the python module and use the
    packages therein inside you Conda environment.</li>
</ul>
</blockquote>
</li>
</ul>
</div>
<div class="admonition abstract">
<p class="admonition-title">keypoints</p>
<ul>
<li>No internet</li>
<li>Local repositories</li>
</ul>
</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.path", "navigation.footer", "search.suggest", "content.code.annotate", "content.tabs.link"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>